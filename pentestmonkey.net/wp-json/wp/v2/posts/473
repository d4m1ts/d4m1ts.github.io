{"id":473,"date":"2011-09-18T16:12:40","date_gmt":"2011-09-18T16:12:40","guid":{"rendered":"http:\/\/pentestmonkey.net\/?p=473"},"modified":"2011-09-10T10:26:49","modified_gmt":"2011-09-10T10:26:49","slug":"exposing-only-part-of-c-over-terminal-services","status":"publish","type":"post","link":"https:\/\/pentestmonkey.net\/uncategorized\/exposing-only-part-of-c-over-terminal-services","title":{"rendered":"Exposing only part of C: over Terminal Services"},"content":{"rendered":"<p><a href=\"http:\/\/www.nynaeve.net\/?page_id=2\">Ken Johnson<\/a> gives a useful tip on his blog about <a href=\"http:\/\/www.nynaeve.net\/?p=176\">limiting access to your local drives<\/a> when you make a Terminal Services connection. \u00a0This is not new, but it&#8217;s useful enough to be worth\u00a0summarizing here.<\/p>\n<p>When I audit a system via Terminal Services, I usually map a drive to or from the system depending on what the Firewall will allow.<\/p>\n<p>Sometimes, it won&#8217;t allow either, though. \u00a0In those cases one of the few options remaining is to configure mstsc.exe to expose a local drive on your client system to the server, accessing it via \\\\tsclient. \u00a0But, you probably want to avoid exposing your whole C: drive.<\/p>\n<p>Assuming that you didn&#8217;t have the foresight to create a dedicated partition for this purpose (I didn&#8217;t), you can easily simulate a drive using subst:<\/p>\n<pre>subst s: c:\\share<\/pre>\n<p>Then you can configure mstsc.exe to only share your S: drive, leaving you less exposed.<\/p>\n<p>Nice tip, Ken.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Ken Johnson gives a useful tip on his blog about limiting access to your local drives when you make a Terminal Services connection. \u00a0This is not new, but it&#8217;s useful enough to be worth\u00a0summarizing here. When I audit a system via Terminal Services, I usually map a drive to or from the system depending on [&hellip;]<\/p>\n","protected":false},"author":3,"featured_media":0,"comment_status":"closed","ping_status":"closed","sticky":true,"template":"","format":"standard","meta":[],"categories":[1],"tags":[41,19,121],"_links":{"self":[{"href":"https:\/\/pentestmonkey.net\/wp-json\/wp\/v2\/posts\/473"}],"collection":[{"href":"https:\/\/pentestmonkey.net\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/pentestmonkey.net\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/pentestmonkey.net\/wp-json\/wp\/v2\/users\/3"}],"replies":[{"embeddable":true,"href":"https:\/\/pentestmonkey.net\/wp-json\/wp\/v2\/comments?post=473"}],"version-history":[{"count":5,"href":"https:\/\/pentestmonkey.net\/wp-json\/wp\/v2\/posts\/473\/revisions"}],"predecessor-version":[{"id":475,"href":"https:\/\/pentestmonkey.net\/wp-json\/wp\/v2\/posts\/473\/revisions\/475"}],"wp:attachment":[{"href":"https:\/\/pentestmonkey.net\/wp-json\/wp\/v2\/media?parent=473"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/pentestmonkey.net\/wp-json\/wp\/v2\/categories?post=473"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/pentestmonkey.net\/wp-json\/wp\/v2\/tags?post=473"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}