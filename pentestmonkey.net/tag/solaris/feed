<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>solaris &#8211; pentestmonkey</title>
	<atom:link href="https://pentestmonkey.net/tag/solaris/feed" rel="self" type="application/rss+xml" />
	<link>https://pentestmonkey.net</link>
	<description>Taking the monkey work out of pentesting</description>
	<lastBuildDate>Sat, 20 Aug 2011 15:54:45 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.8.3</generator>
	<item>
		<title>Getting RSH on Linux to work like RSH on Solaris</title>
		<link>https://pentestmonkey.net/blog/rsh-rlogin-config-linux</link>
					<comments>https://pentestmonkey.net/blog/rsh-rlogin-config-linux#respond</comments>
		
		<dc:creator><![CDATA[pentestmonkey]]></dc:creator>
		<pubDate>Fri, 11 Jan 2008 20:49:08 +0000</pubDate>
				<category><![CDATA[Blog]]></category>
		<category><![CDATA[linux]]></category>
		<category><![CDATA[pentest]]></category>
		<category><![CDATA[rsh]]></category>
		<category><![CDATA[solaris]]></category>
		<guid isPermaLink="false">http://pentestmonkey.net/?p=32</guid>

					<description><![CDATA[If you&#8217;ve tried setting up rsh/rlogin based hacker challenges on Linux over the last few years you&#8217;ve probably noticed that Linux (I tried Redhat and Debian) doesn&#8217;t behave like Solaris.  This makes either for really bad hacker challenges, or for ones involving lots of Solaris boxes. I finally found the answer recently so thought I&#8217;d [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>If you&#8217;ve tried setting up rsh/rlogin based hacker challenges on Linux over the last few years you&#8217;ve probably noticed that Linux (I tried Redhat and Debian) doesn&#8217;t behave like Solaris.  This makes either for really bad hacker challenges, or for ones involving lots of Solaris boxes.</p>
<p>I finally found the answer recently so thought I&#8217;d post the answer incase it helps anyone else afflicted by this puzzle.</p>
<p><span id="more-32"></span></p>
<h3>The Problem</h3>
<p>If you set up a server (say 10.0.0.1) and create a user (ptm) with an insecure .rhosts file (&#8220;+ +&#8221;) you find that you can&#8217;t abuse this account as planned:</p>
<pre>$ rsh -l ptm 10.0.0.1 id
Permission denied.</pre>
<pre>$ rlogin -l ptm 10.0.0.1
Password:</pre>
<p>This is not how it works on Solaris, and it&#8217;s probably not what you want for your hacker challenge.  + is supposed to be a wild card.  The first + in the .rhosts file means any source IP can log in.  The second + means that any source username can log in.</p>
<p>You&#8217;ll find entries like the following in /var/log/auth.log:</p>
<pre>Jan 11 20:17:47 debian pam_rhosts_auth[3423]: denied to foo@10.0.0.1 as ptm: access not allowed
Jan 11 20:17:47 debian in.rshd[3423]: rsh denied to foo@192.168.20.1 as ptm: Permission denied</pre>
<p>There&#8217;s the clue, then.  PAM is unhappy and has denied our login attempt.</p>
<h3>The Solution</h3>
<p>I found <a href="http://forums.fedoraforum.org/archive/index.php/t-57722.html">this post</a> by Nalin Dahyabhai who notes that you simply need to pass the&#8221;promiscuous&#8221; option to pam_rhosts_auth.so:</p>
<pre>debian:/etc/pam.d# cat rsh
auth    required        pam_nologin.so
auth    required        pam_env.so
auth    required        pam_rhosts_auth.so promiscuous
account required        pam_unix_acct.so
session required        pam_unix_session.so</pre>
<p>You should also do this for /etc/pam.d/rlogin.</p>
<p>RSH and RLogin will then work like Solaris, e.g. if user ptm has an entry like the following in ~/.rhosts:</p>
<pre>+ +</pre>
<p>The following commands now work:</p>
<pre>$ rsh -l ptm 10.0.0.1 id</pre>
<pre>$ rlogin -l ptm 10.0.0.1</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
]]></content:encoded>
					
					<wfw:commentRss>https://pentestmonkey.net/blog/rsh-rlogin-config-linux/feed</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
